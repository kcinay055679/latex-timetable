
\ExplSyntaxOn

\cs_gset:Npn \runForDays #1#2#3
{
  \seq_set_split:Nnn \l_tmpa_seq { ~ } { #1 }
  \seq_map_inline:Nn \l_tmpa_seq
    {
      \str_case:nn {##1}
        {
          {A}{#2}
          {H}{#3}
        }
    }
}

\cs_gset:Npn \createDayTimeSlots #1
{
  \runForDays{#1}{\aDay{123}}{& 0}
}

\cs_gset:Npn \createDayHeader #1
{
  \runForDays{#1}{\ipaDayHeader{1.1.190}}{\holidyDayHeader{}}
}

\cs_gset:Npn \calcDays #1
{
  \runForDays{#1}{\addIpaDay}{\addRestDay}
}


\NewDocumentCommand{\createIsWorkdayCommand}{mm}
{
    \cs_gset:Npn \isWorkday ##1
      {
        \seq_set_split:Nnn \l_workday_seq { ~ } { #2 }
        \seq_item:Nn \l_workday_seq {\int_eval:n{\int_div_truncate:nn {##1}{\blockAmountPerIpaDay} +2}}
      }

      % \cs_gset:Npn \hasHolidayDays:nn ##1 ##2
      % {
      %   \seq_set_split:Nnn \g_workday_seq { ~ } { #2 }
      %   \seq_item:Nn \g_workday_seq {\int_eval:n{\int_div_truncate:nn {##1}{16} +2}}
      % }
  }
\ExplSyntaxOff