\newcommand{\whitespace}[1]{
  \addtocounter{#1}{1}
  &%
  % \multicolumn{1}{c}{}
}

\ExplSyntaxOn

\cs_new:Npn \getLetter { B } % Example function returning 'A'
% \cs_new:Npn \getLetter { B } % Example function returning 'A'


\cs_generate_variant:Nn \tl_if_eq:nnTF { V }
\cs_generate_variant:Nn \tl_if_eq:nnT { V }


\cs_gset:Npn \runForDays #1#2#3
{
  \seq_set_split:Nnn \l_tmpa_seq { ~ } { #1 }
  \seq_map_inline:Nn \l_tmpa_seq
    {
      \str_case:nn {##1}
        {
          {A}{#2}
          {H}{#3}
        }
    }
}

\cs_gset:Npn \createDayTimeSlots #1
{
  \runForDays{#1}{\aDay{123}}{& 0}
}

\cs_gset:Npn \createDayHeader #1
{
  \runForDays{#1}{\ipaDayHeader{1.1.190}}{\holidyDayHeader{}}
}

\cs_gset:Npn \calcDays #1
{
  \runForDays{#1}{\addIpaDay}{\addRestDay}
}
% \newcommand\optionalCol[2]{#2\unexpanded{#1}}

\cs_gset:Npn \isWorkday #1 #2 #3{%
\tl_if_eq:nnTF{#1}{H}{\addtocounter{#2}{1}&#3}{#3}
}

\NewDocumentCommand{\createIsWorkdayCommand}{mm}{
  \cs_gset:Npn \theTest{
    % test &
    % \seq_set_split:Nnn\l_workday_seq { } {#2}%
    % \int_set:Nn \l_tmpa_int { \int_div_truncate:nn {##1}{\blockAmountPerIpaDay} + 1}
    % \tl_set:Nx \l_tmpa_tl { \seq_item:Nn \l_workday_seq { \int_use:N \l_tmpa_int } }
    % \tl_if_eq:VnTF \l_tmpa_tl {H} {\whitespace{##2}} {}
  }
  \cs_gset:Npn \getDay ##1{
    \seq_set_split:Nnn\l_workday_seq { } {#2}%
    \int_set:Nn \l_tmpa_int { \int_div_truncate:nn {##1}{\blockAmountPerIpaDay} + 1}
    % \tl_set:Nx \l_tmpa_tl { \seq_item:Nn \l_workday_seq { \int_use:N \l_tmpa_int } }
    % \l_tmpa_tl
    \seq_item:Nn \l_workday_seq { \int_use:N \l_tmpa_int }
    % \tl_if_eq:VnTF \l_tmpa_tl {H} {\whitespace{##2}} {}
    % &
    % \addtocounter{##2}{1}
  }
}
\ExplSyntaxOff{}